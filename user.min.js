function format(t,...e){if(!t.match(/^(?:(?:(?:[^{}]|(?:\{\{)|(?:\}\}))+)|(?:\{[0-9]+\}))+$/))throw new Error("invalid format string.");return t.replace(/((?:[^{}]|(?:\{\{)|(?:\}\}))+)|(?:\{([0-9]+)\})/g,(t,n,r)=>{if(n)return n.replace(/(?:{{)|(?:}})/g,t=>t[0]);if(r>=e.length)throw new Error("argument index is out of range in format");return e[r]})}function getFromAPI(t,e){var n;fetch(t).then(t=>t.json()).then(t=>n=t).then(()=>e(n))}function construct_url(t){return url_construct=[{base:"https://hackerfeed.dev/",top:"news",new:"newest",show:"show"}],url=url_construct[0].base+url_construct[0][t]+"?page=1",url}function capital_letter(t){for(let e=0,n=(t=t.split(" ")).length;e<n;e++)t[e]=t[e][0].toUpperCase()+t[e].substr(1);return t.join(" ")}function load_articles(t){console.log("loading articles..."+t),url_construction=construct_url(t),getFromAPI(url_construction,getData),changeTitle(capital_letter(t))}function getData(t){var e="";t.forEach(t=>{e+=format(html_temp,t.id,t.image_url,t.url,t.domain,t.domain,t.url,t.title,t.user,t.time_ago,t.points,t.comments_count)}),e+="",document.getElementById("articles").innerHTML=e}function changeInnerHTML(t,e){document.getElementById(t).innerHTML=e}function changeTitle(t){title_content="Hackernews - "+t,changeInnerHTML("title",title_content),changeInnerHTML("title_h2",title_content)}function imageError(t){t.style.display="none"}function click_event(t){document.getElementById(t+"_btn").addEventListener("click",function(){load_articles(t)})}html_temp='<div class="card m-5" data-id="{0}"><div class="view overlay"><img src="{1}" onerror="imageError(this);" class="img-fluid" alt=""><a href="{2}"><div class="mask rgba-white-slight"></div></a></div><div class="card-body"><p class="card-text text-grey"><img class="mx-1" src="https://www.google.com/s2/favicons?domain={3}">{4}</p><h4 class=card-title"><a href="{5}">{6}</a></h4><p class="card-text"><strong>{7}</strong><span> &#8226; </span>{8}</p><p class="card-text"><strong>{9} points</strong><span> &#8226; </span><strong>{10} comments</strong></p></div></div>',load_articles("top"),click_event("top"),click_event("new"),click_event("show");